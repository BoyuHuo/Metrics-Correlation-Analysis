<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BeanUtils.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Apache Commons BeanUtils</a> &gt; <a href="index.source.html" class="el_package">org.apache.commons.beanutils2</a> &gt; <span class="el_source">BeanUtils.java</span></div><h1>BeanUtils.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


package org.apache.commons.beanutils2;

import java.lang.reflect.InvocationTargetException;
import java.util.Map;



/**
 * &lt;p&gt;Utility methods for populating JavaBeans properties via reflection.&lt;/p&gt;
 *
 * &lt;p&gt;The implementations are provided by {@link BeanUtilsBean}.
 * These static utility methods use the default instance.
 * More sophisticated behaviour can be provided by using a &lt;code&gt;BeanUtilsBean&lt;/code&gt; instance.&lt;/p&gt;
 *
 * @version $Id$
 * @see BeanUtilsBean
 */

<span class="nc" id="L37">public class BeanUtils {</span>


    // ------------------------------------------------------ Private Variables


    

    // --------------------------------------------------------- Class Methods


    /**
     * &lt;p&gt;Clone a bean based on the available property getters and setters,
     * even if the bean class itself does not implement Cloneable.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean to be cloned
     * @return the cloned bean
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InstantiationException if a new instance of the bean's
     *  class cannot be instantiated
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#cloneBean
     */
    public static Object cloneBean(final Object bean)
            throws IllegalAccessException, InstantiationException,
            InvocationTargetException, NoSuchMethodException {

<span class="fc" id="L71">        return BeanUtilsBean.getInstance().cloneBean(bean);</span>

    }


    /**
     * &lt;p&gt;Copy property values from the origin bean to the destination bean
     * for all cases where the property names are the same.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param dest Destination bean whose properties are modified
     * @param orig Origin bean whose properties are retrieved
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws IllegalArgumentException if the &lt;code&gt;dest&lt;/code&gt; or
     *  &lt;code&gt;orig&lt;/code&gt; argument is null or if the &lt;code&gt;dest&lt;/code&gt;
     *  property type is different from the source type and the relevant
     *  converter has not been registered.
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @see BeanUtilsBean#copyProperties
     */
    public static void copyProperties(final Object dest, final Object orig)
        throws IllegalAccessException, InvocationTargetException {

<span class="fc" id="L98">        BeanUtilsBean.getInstance().copyProperties(dest, orig);</span>
<span class="fc" id="L99">    }</span>


    /**
     * &lt;p&gt;Copy the specified property value to the specified destination bean,
     * performing any type conversion that is required.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean on which setting is to be performed
     * @param name Property name (can be nested/indexed/mapped/combo)
     * @param value Value to be set
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @see BeanUtilsBean#copyProperty
     */
    public static void copyProperty(final Object bean, final String name, final Object value)
        throws IllegalAccessException, InvocationTargetException {

<span class="fc" id="L121">        BeanUtilsBean.getInstance().copyProperty(bean, name, value);</span>
<span class="fc" id="L122">    }</span>


    /**
     * &lt;p&gt;Return the entire set of properties for which the specified bean
     * provides a read method.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose properties are to be extracted
     * @return Map of property descriptors
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#describe
     */
    public static Map&lt;String, String&gt; describe(final Object bean)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L146">        return BeanUtilsBean.getInstance().describe(bean);</span>
    }


    /**
     * &lt;p&gt;Return the value of the specified array property of the specified
     * bean, as a String array.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Name of the property to be extracted
     * @return The array property value
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getArrayProperty
     */
    public static String[] getArrayProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L172">        return BeanUtilsBean.getInstance().getArrayProperty(bean, name);</span>
    }


    /**
     * &lt;p&gt;Return the value of the specified indexed property of the specified
     * bean, as a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name &lt;code&gt;propertyname[index]&lt;/code&gt; of the property value
     *  to be extracted
     * @return The indexed property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getIndexedProperty(Object, String)
     */
    public static String getIndexedProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L199">        return BeanUtilsBean.getInstance().getIndexedProperty(bean, name);</span>

    }


    /**
     * Return the value of the specified indexed property of the specified
     * bean, as a String.  The index is specified as a method parameter and
     * must *not* be included in the property name expression
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Simple property name of the property value to be extracted
     * @param index Index of the property value to be extracted
     * @return The indexed property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getIndexedProperty(Object, String, int)
     */
    public static String getIndexedProperty(final Object bean,
                                            final String name, final int index)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L229">        return BeanUtilsBean.getInstance().getIndexedProperty(bean, name, index);</span>

    }


    /**
     * &lt;p&gt;Return the value of the specified indexed property of the specified
     * bean, as a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name &lt;code&gt;propertyname(index)&lt;/code&gt; of the property value
     *  to be extracted
     * @return The mapped property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getMappedProperty(Object, String)
     */
    public static String getMappedProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="nc" id="L257">        return BeanUtilsBean.getInstance().getMappedProperty(bean, name);</span>

    }


    /**
     * &lt;p&gt;Return the value of the specified mapped property of the specified
     * bean, as a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Simple property name of the property value to be extracted
     * @param key Lookup key of the property value to be extracted
     * @return The mapped property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getMappedProperty(Object, String, String)
     */
    public static String getMappedProperty(final Object bean,
                                           final String name, final String key)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="nc" id="L286">        return BeanUtilsBean.getInstance().getMappedProperty(bean, name, key);</span>

    }


    /**
     * &lt;p&gt;Return the value of the (possibly nested) property of the specified
     * name, for the specified bean, as a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Possibly nested name of the property to be extracted
     * @return The nested property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws IllegalArgumentException if a nested reference to a
     *  property returns null
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getNestedProperty
     */
    public static String getNestedProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L315">        return BeanUtilsBean.getInstance().getNestedProperty(bean, name);</span>

    }


    /**
     * &lt;p&gt;Return the value of the specified property of the specified bean,
     * no matter which property reference format is used, as a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Possibly indexed and/or nested name of the property
     *  to be extracted
     * @return The property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getProperty
     */
    public static String getProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L343">        return BeanUtilsBean.getInstance().getProperty(bean, name);</span>

    }


    /**
     * &lt;p&gt;Return the value of the specified simple property of the specified
     * bean, converted to a String.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean whose property is to be extracted
     * @param name Name of the property to be extracted
     * @return The property's value, converted to a String
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @throws NoSuchMethodException if an accessor method for this
     *  property cannot be found
     * @see BeanUtilsBean#getSimpleProperty
     */
    public static String getSimpleProperty(final Object bean, final String name)
            throws IllegalAccessException, InvocationTargetException,
            NoSuchMethodException {

<span class="fc" id="L370">        return BeanUtilsBean.getInstance().getSimpleProperty(bean, name);</span>

    }


    /**
     * &lt;p&gt;Populate the JavaBeans properties of the specified bean, based on
     * the specified name/value pairs.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean JavaBean whose properties are being populated
     * @param properties Map keyed by property name, with the
     *  corresponding (String or String[]) value(s) to be set
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @see BeanUtilsBean#populate
     */
    public static void populate(final Object bean, final Map&lt;String, ? extends Object&gt; properties)
        throws IllegalAccessException, InvocationTargetException {

<span class="fc" id="L394">        BeanUtilsBean.getInstance().populate(bean, properties);</span>
<span class="fc" id="L395">    }</span>


    /**
     * &lt;p&gt;Set the specified property value, performing type conversions as
     * required to conform to the type of the destination property.&lt;/p&gt;
     *
     * &lt;p&gt;For more details see &lt;code&gt;BeanUtilsBean&lt;/code&gt;.&lt;/p&gt;
     *
     * @param bean Bean on which setting is to be performed
     * @param name Property name (can be nested/indexed/mapped/combo)
     * @param value Value to be set
     *
     * @throws IllegalAccessException if the caller does not have
     *  access to the property accessor method
     * @throws InvocationTargetException if the property accessor method
     *  throws an exception
     * @see BeanUtilsBean#setProperty
     */
    public static void setProperty(final Object bean, final String name, final Object value)
        throws IllegalAccessException, InvocationTargetException {

<span class="fc" id="L417">        BeanUtilsBean.getInstance().setProperty(bean, name, value);</span>
<span class="fc" id="L418">    }</span>

    /**
     * If we're running on JDK 1.4 or later, initialize the cause for the given throwable.
     *
     * @param  throwable The throwable.
     * @param  cause     The cause of the throwable.
     * @return  true if the cause was initialized, otherwise false.
     * @since 1.8.0
     */
    public static boolean initCause(final Throwable throwable, final Throwable cause) {
<span class="fc" id="L429">        return BeanUtilsBean.getInstance().initCause(throwable, cause);</span>
    }

    /**
     * Create a cache.
     * @param &lt;K&gt; the key type of the cache
     * @param &lt;V&gt; the value type of the cache
     * @return a new cache
     * @since 1.8.0
     */
    public static &lt;K, V&gt; Map&lt;K, V&gt; createCache() {
<span class="fc" id="L440">        return new WeakFastHashMap&lt;&gt;();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>